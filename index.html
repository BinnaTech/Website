<!doctype html>
<html lang="fa" dir="rtl" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>بیناتک - دستیار هوشمند در خدمت سلامت چشم</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body { box-sizing: border-box; }
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');
    * { font-family: 'Vazirmatn', 'Vazir', 'Tahoma', sans-serif; }
    .hero-video { filter: sepia(100%) saturate(150%) hue-rotate(200deg) brightness(0.7) contrast(1.3); }
    .gradient-overlay { background: linear-gradient(135deg, rgba(25,25,112,0.9) 0%, rgba(72,61,139,0.95) 50%, rgba(106,90,205,0.98) 100%); }
    .glass-effect { background: rgba(25,25,112,0.15); backdrop-filter: blur(10px); border: 1px solid rgba(72,61,139,0.3); }
    .hover-glow:hover { box-shadow: 0 0 30px rgba(72,61,139,0.6); transform: translateY(-2px); transition: all 0.3s ease; }
    .pulse-animation { animation: pulse 2s infinite; }
    @keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.7; } }
    .text-shadow { text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
    .demo-card { background: linear-gradient(145deg, rgba(25,25,112,0.15), rgba(72,61,139,0.1)); border: 2px solid rgba(72,61,139,0.3); transition: all 0.3s ease; }
    .demo-card:hover { border-color: rgba(72,61,139,0.6); transform: scale(1.02); }
    .fixed-header { position: fixed; top: 0; left: 0; right: 0; z-index: 50; background: rgba(15,23,42,0.9); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(72,61,139,0.4); padding: 1rem 0; }
  </style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>
<body class="h-full bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 text-white overflow-x-hidden">

  <!-- هدر ثابت برای فارسی -->
  <div id="persian-header" class="fixed-header hidden text-center">
    <div class="max-w-6xl mx-auto px-6 flex justify-center gap-8">
      <button onclick="showDoctorLogin()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-xl">
        ورود پزشک
      </button>
      <button onclick="showPatientForm()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-xl">
        ثبت‌نام بیمار
      </button>
    </div>
  </div>

  <main class="min-h-full pt-24">

    <!-- Hero با ویدیو -->
    <section id="hero-section" class="relative h-screen flex items-center justify-center overflow-hidden">
      <div class="absolute inset-0 w-full h-full">
        <video id="heroVideo" class="w-full h-full object-cover" autoplay muted playsinline>
          <source src="https://raw.githubusercontent.com/megsciip3/bina-tech-site/main/2025-10-23%2010-56-05.mp4" type="video/mp4">
        </video>
        <canvas id="heroCanvas" class="hidden w-full h-full object-cover"></canvas>
        <div id="fallback-bg" class="hidden w-full h-full bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 flex items-center justify-center">
          <div class="text-center">
            <div class="w-32 h-32 mx-auto mb-8 rounded-full bg-gradient-to-br from-indigo-600 to-slate-700 flex items-center justify-center">
              <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </div>
            <p class="text-indigo-200">ویدیو در حال بارگذاری...</p>
          </div>
        </div>
      </div>
      <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black opacity-50"></div>
      <div class="relative z-10 text-center px-6 max-w-4xl mx-auto">
        <h1 class="text-4xl md:text-6xl font-bold mb-6 text-shadow text-white">BinaTech<br><span class="text-2xl md:text-3xl">The AI Health Assistant for Eye Care</span></h1>
      </div>
      <div id="scroll-indicator" class="hidden absolute bottom-8 left-1/2 transform -translate-x-1/2 cursor-pointer" onclick="goToLanguageSelection()">
        <p class="text-white text-lg font-semibold mb-2 animate-pulse">Enter Website</p>
        <div class="animate-bounce">
          <svg class="w-8 h-8 text-white mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
        </div>
      </div>
    </section>

    <!-- انتخاب زبان -->
    <section id="language-selection" class="hidden relative min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900">
      <div class="text-center px-6 max-w-3xl mx-auto">
        <div class="glass-effect rounded-3xl p-12 hover-glow">
          <h1 class="text-4xl md:text-5xl font-bold mb-8 text-shadow">انتخاب زبان<br><span class="text-2xl md:text-3xl text-indigo-200">Select Language</span></h1>
          <div class="space-y-6">
            <button id="persian-btn" class="w-full bg-gradient-to-r from-green-600 to-teal-700 hover:from-green-700 hover:to-teal-800 text-white font-bold py-5 px-8 rounded-full text-2xl transition-all transform hover:scale-105 hover:shadow-2xl">فارسی</button>
            <button id="english-btn" class="w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-bold py-5 px-8 rounded-full text-2xl transition-all transform hover:scale-105 hover:shadow-2xl">English</button>
          </div>
        </div>
      </div>
    </section>

    <!-- فقط برای انگلیسی -->
    <section id="entrance-selection" class="hidden relative min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900">
      <!-- همون سه دکمه قبلی (اگر خواستی بعداً حذفش کنی) -->
      <div class="text-center px-6 max-w-3xl mx-auto">
        <div class="glass-effect rounded-3xl p-12 hover-glow">
          <h1 id="entrance-title" class="text-4xl md:text-5xl font-bold mb-8 text-shadow">Enter System<br><span class="text-2xl md:text-3xl text-indigo-200">Choose your user type</span></h1>
          <div class="space-y-4">
            <button id="doctor-entrance" class="w-full bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white font-bold py-4 px-8 rounded-full text-xl transition-all transform hover:scale-105 hover:shadow-2xl"><span id="doctor-entrance-text">Doctor Login</span></button>
            <button id="patient-entrance" class="w-full bg-gradient-to-r from-green-600 to-teal-700 hover:from-green-700 hover:to-teal-800 text-white font-bold py-4 px-8 rounded-full text-xl transition-all transform hover:scale-105 hover:shadow-2xl"><span id="patient-entrance-text">Patient Registration</span></button>
            <button id="guest-entrance" class="w-full bg-gradient-to-r from-slate-600 to-gray-700 hover:from-slate-700 hover:to-gray-800 text-white font-bold py-4 px-8 rounded-full text-xl transition-all transform hover:scale-105 hover:shadow-2xl"><span id="guest-entrance-text">Guest Access</span></button>
          </div>
        </div>
      </div>
    </section>

    <!-- بقیه بخش‌ها (main-content, doctor-login, patient-form, doctor-dashboard, doctor-finder-section, footer, modal و ...) دقیقاً همون قبلی هستن -->
    <!-- برای صرفه‌جویی در فضا، فقط بخش‌های تغییرکرده رو نشون دادم. تمام کد اصلی شما بدون تغییر باقی می‌مونه -->

    <!-- تمام بخش‌های قبلی (main-content و پایین‌تر) رو دقیقاً کپی کن از فایل اصلیت -->
    <!-- فقط کافیست این کد جدید رو جایگزین کنی و بقیه رو همون‌طور که هست بذاری -->

  </main>

<script>
  // تمام محتوای قبلی content و توابع
  const content = { /* همون آبجکت بزرگ content که قبلاً داشتی */ };
  let currentLanguage = 'persian';

  // وقتی ویدیو تموم شد
  document.getElementById('heroVideo').addEventListener('ended', () => {
    document.getElementById('heroCanvas').classList.remove('hidden');
    document.getElementById('heroVideo').style.display = 'none';
    document.getElementById('scroll-indicator').classList.remove('hidden');
  });

  function goToLanguageSelection() {
    document.getElementById('hero-section').classList.add('hidden');
    document.getElementById('language-selection').classList.remove('hidden');
  }

  document.getElementById('persian-btn').addEventListener('click', () => {
    currentLanguage = 'persian';
    document.documentElement.dir = 'rtl';
    document.documentElement.lang = 'fa';
    hideAll();
    document.getElementById('main-content').classList.remove('hidden');
    document.getElementById('doctor-finder-section').classList.remove('hidden');
    document.getElementById('persian-header').classList.remove('hidden');
  });

  document.getElementById('english-btn').addEventListener('click', () => {
    currentLanguage = 'english';
    document.documentElement.dir = 'ltr';
    document.documentElement.lang = 'en';
    hideAll();
    document.getElementById('entrance-selection').classList.remove('hidden');
  });

  function showDoctorLogin() { hideAll(); document.getElementById('doctor-login').classList.remove('hidden'); }
  function showPatientForm() { hideAll(); document.getElementById('patient-form').classList.remove('hidden'); }

  function hideAll() {
    const ids = ['language-selection','entrance-selection','doctor-login','patient-form','doctor-dashboard','main-content','doctor-finder-section'];
    ids.forEach(id => document.getElementById(id)?.classList.add('hidden'));
  }

  // بقیه توابع (handleFileUpload, showDiseaseInfo, goToDiagnosisDemo, goToDoctorFinder و ...) دقیقاً همون قبلی
</script>
</body>
</html>
